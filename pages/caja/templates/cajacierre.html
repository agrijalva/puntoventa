<div class="row">
    <div class="col-md-12">
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-6">
                    <h4 class="pull-left" style="text-align: left;"><span ng-bind-html="currentUser"></span><br><small>Usuario</small></h4>
                </div>
                
                <div class="col-md-6">&nbsp;</div>
            </div>
        </div>


        
        <div class="col-md-8">
            <br>
            <div class="panel panel-default panel-lg">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-sm-12">
                            <h5><b> <i class="fa fa-list" aria-hidden="true"></i> Detalles </b></h5>
                        </div>
                    </div>                            
                </div>
                <div class="panel-body" style="height: 450px; overflow-y: auto;">
                    <div class="row">
                        <div class="col-sm-12" id="cierreCaja">
                            <table class="table" style="font-family: arial; font-size: 12px;" width="100%">
                                <tr>
                                    <td> 
                                        <img src="images/logo-circulo-3.png" width="60" style="margin-top: 5px;"> 
                                    </td>
                                    <td colspan="5"> 
                                        <h2>FORRAJES AS DE OROS</h2>
                                    </td>
                                </tr>
                                <tr>
                                    <th colspan="6"> <br><br>Apertura de caja</th>
                                </tr>
                                <tr>
                                    <th>Id</th>
                                    <th>Sucursal</th>
                                    <th>Usuario</th>
                                    <th>Fecha Apertura</th>
                                    <th>Fecha Cierre</th>
                                    <th>Monto Apertura</th>
                                </tr>
                                <tr style="font-size: 12px;">
                                    <td> {{ idCajaTMP }} </td>
                                    <td> <span ng-bind-html="sucNombre"></span> </td>
                                    <td> <span ng-bind-html="currentUser"></span> </td>
                                    <td> {{ caja.caja.data[0].caja_fechaApertura }} </td>
                                    <td> {{ caja.caja.data[0].caja_fechaCierre }} </td>
                                    <td style="text-align: right;"> {{ caja.caja.data[0].caja_monto | currency }}</td>
                                </tr>

                                <tr>
                                    <th colspan="6">
                                        <br><br>
                                        Ventas
                                    </th>
                                </tr>
                                <tr>
                                    <th>Id</th>
                                    <th colspan="2">Descripción</th>
                                    <th>CheckOut</th>
                                    <th>Fecha</th>
                                    <th>Monto</th>
                                </tr>
                                <tr ng-repeat="(key, ven) in caja.ventas.data" style="font-size: 12px;">
                                    <td>{{ven.idVenta}}</td>
                                    <td colspan="2">Ventas de Mostrador</td>
                                    <td>{{ ven.idCheckOut }}</td>
                                    <td>{{ ven.timestamp }}</td>
                                    <td style="text-align: right;">{{ ven.ven_monto | currency }}</td>
                                </tr>

                                <tr>
                                    <th colspan="6">
                                        <br><br>
                                        Gastos
                                    </th>
                                </tr>
                                <tr>
                                    <th>Id</th>
                                    <th>Tipo</th>
                                    <th colspan="2">Descripción</th>
                                    <th>Fecha</th>
                                    <th>Monto</th>
                                </tr>
                                <tr ng-repeat="(key, gas) in caja.gastos.data" style="font-size: 12px;">
                                    <td>{{gas.idGastos}}</td>
                                    <td ng-bind-html="gas.gati_descripcion"></td>
                                    <td colspan="2" ng-bind-html="gas.gas_descripcion"></td>
                                    <td>{{ gas.timestamp }}</td>
                                    <td style="text-align: right;">{{ gas.gas_monto | currency }}</td>
                                </tr>

                                <tr>
                                    <th colspan="4"> &nbsp; </th>
                                    <th style="text-align: right;"> <br><br> Totales</th>
                                    <th>&nbsp;</th>
                                </tr>
                                <tr>
                                    <th colspan="3">&nbsp;</th>
                                    <th colspan="2" style="text-align: right;">Monto apertura de caja: [+]</th>
                                    <th style="text-align: right;">{{ cajaResume.inicial | currency }}</th>
                                </tr>
                                <tr>
                                    <th colspan="4">&nbsp;</th>
                                    <th style="text-align: right;">Ventas: [+]</th>
                                    <th style="text-align: right;">{{ cajaResume.ventas | currency }}</th>
                                </tr>
                                <tr>
                                    <th colspan="4">&nbsp;</th>
                                    <th style="text-align: right;">Gastos: [-]</th>
                                    <th style="text-align: right;">{{ cajaResume.gastos | currency }}</th>
                                </tr>
                                <tr>
                                    <th colspan="4">&nbsp;</th>
                                    <th style="text-align: right;">Total: [=]</th>
                                    <th style="text-align: right;">{{ cajaResume.total | currency }}</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <br>
            <div class="panel panel-default panel-lg" style="">
                <div class="panel-heading" style="">
                    <div class="row">
                        <div class="col-sm-12">
                            <h5><b> <i class="fa fa-usd" aria-hidden="true"></i> Caja</b></h5>
                        </div>
                    </div>                            
                </div>
                <div class="panel-body" style="height: 450px;">
                    <div class="row">
                        <div class="col-sm-12">
                            <table id="example" width="100%">
                                <tbody>
                                    <tr>
                                        <td><h5>Total en caja</h5></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <h1 style="text-align: center;">{{ cajaResume.total | currency }}</h1>
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <br><br>
                                    </tr>

                                    <tr>
                                        <td><h5><b><small>Detalles</small></b></h5></td>
                                    </tr>
                                    <tr>
                                        <td style="font-size: 14">
                                            <b>Monto inicial de caja</b>
                                            <span class="pull-right" style="">{{ cajaResume.inicial | currency }}</span>
                                            <!-- <button class="btn btn-default"> Ver Salidas </button> -->
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="font-size: 14">
                                            <b><a href="" style="color: #c00;" ng-click="modalVentas( idCajaTMP )">Ventas</a></b>
                                            <span class="pull-right" style="">{{ cajaResume.ventas | currency }}</span>
                                            <!-- <button class="btn btn-default"> Ver Entradas </button> -->
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="font-size: 14">
                                            <b>Gastos</b>
                                            <span class="pull-right" style="">{{ cajaResume.gastos | currency }}</span>
                                        </td>
                                    </tr>


                                    <tr>
                                        <td>
                                            <br><br><br>
                                            <button class="btn btn-default pull-left" ng-click="print('cierreCaja')"> Imprimir </button>
                                            <button class="btn btn-default pull-right"> Regresar </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div procesar-mezcla class="procesaCompra" ng-show="procesaMezcla"></div>

<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> -->
                <div class="row">
                    <div class="col-sm-8">
                        <h4 class="modal-title" id="myModalLabel">Relación de productos vendidos</h4>                    
                    </div>                
                    <div class="col-sm-4">
                        <button type="button" class="btn btn-warning btn-rounded pull-right" ng-click="printFormato();">
                            <i class="fa fa-print" aria-hidden="true"></i> Imprimir
                        </button>
                    </div>                    
                </div>
            </div>
            <div class="modal-body" id="formatoInventario">
                <div class="row cuerpo" style="font-family: arial; font-size: 10px;">
                    <div class="col-md-12">
                        <div class="panel panel-default panel-lg">
                            <div class="panel-heading">
                                <table border="0" width="100%">
                                    <tr>
                                        <td><span style="font-size: 18px"><b ng-bind-html="Titulo"></b></span></td>
                                        <td align="right"><span style="font-size: 18px"><b id="fecha_str"></b></span></td>
                                    </tr>
                                </table>                           
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <table class="table" style="font-family: arial; font-size: 12px;" width="100%">
                                        <tr>
                                            <td> 
                                                <img src="images/logo-circulo-3.png" width="60" style="margin-top: 5px;"> 
                                            </td>
                                            <td colspan="5"> 
                                                <h2>FORRAJES AS DE OROS</h2>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th colspan="6"> <br><br>Apertura de caja</th>
                                        </tr>
                                        <tr>
                                            <th>Id</th>
                                            <th>Sucursal</th>
                                            <th>Usuario</th>
                                            <th>Fecha Apertura</th>
                                            <th>Fecha Cierre</th>
                                            <th>Monto Apertura</th>
                                        </tr>
                                        <tr style="font-size: 12px;">
                                            <td> {{ idCajaTMP }} </td>
                                            <td> <span ng-bind-html="sucNombre"></span> </td>
                                            <td> <span ng-bind-html="currentUser"></span> </td>
                                            <td> {{ caja.caja.data[0].caja_fechaApertura }} </td>
                                            <td> {{ caja.caja.data[0].caja_fechaCierre }} </td>
                                            <td style="text-align: right;"> {{ caja.caja.data[0].caja_monto | currency }}</td>
                                        </tr>

                                        <tr>
                                            <th colspan="6">
                                                <br><br>
                                                Ventas
                                            </th>
                                        </tr>
                                        <tr>
                                            <th>Id</th>
                                            <th colspan="2">Descripción</th>
                                            <th>CheckOut</th>
                                            <th>Fecha</th>
                                            <th>Monto</th>
                                        </tr>
                                        <tr ng-repeat="(key, ven) in caja.ventas.data" style="font-size: 12px;">
                                            <td>{{ven.idVenta}}</td>
                                            <td colspan="2">Ventas de Mostrador</td>
                                            <td>{{ ven.idCheckOut }}</td>
                                            <td>{{ ven.timestamp }}</td>
                                            <td style="text-align: right;">{{ ven.ven_monto | currency }}</td>
                                        </tr>

                                        <tr>
                                            <th colspan="4">&nbsp;</th>
                                            <th style="text-align: right;">Ventas: [+]</th>
                                            <th style="text-align: right;">{{ cajaResume.ventas | currency }}</th>
                                        </tr>
                                    </table>
                                    <br>
                                    <p style="font-size: 14px;">Relación de productos vendidos</p>
                                    <table id="example" class="table table-hover border-white" width="100%" border="1" cellpadding="5" cellspacing="0" style="font-family: arial; font-size: 12px;">
                                        <thead>
                                            <th width="60px">#ID</th>
                                            <th width="450px">PRODUCTO</th>
                                            <th width="220px" align="right">CANTIDAD INICIAL</th>
                                            <th width="220px" align="right">CANTIDAD VENDIDA</th>
                                            <th width="220px" align="right">CANTIDAD FINAL</th>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="pro in ventasDetalle.data">
                                                <td valign="top" style="font-size: 11px;"><span ng-bind-html="pro.idProducto"></span> &nbsp;</td>
                                                <td valign="top" style="font-size: 11px;">
                                                    <span ng-bind-html="pro.nombreProducto"></span>
                                                </td>
                                                <td class="" valign="top" align="right" style="font-size: 11px;"><br> {{ pro.cantidadInicial }} </td>
                                                <td class="" valign="top" align="right" style="font-size: 11px;"><br> {{ pro.cantidadVendida }} </td>
                                                <td class="" valign="top" align="right" style="font-size: 11px;"><br> {{ pro.cantidadFinal }} </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-rounded" data-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-warning btn-rounded" ng-click="printFormato();"> <i class="fa fa-print" aria-hidden="true"></i> Imprimir</button>
            </div>
        </div>
    </div>
</div>